(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3096],{16299:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(58761).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},34888:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(58761).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},39262:(e,s,a)=>{"use strict";var t=a(66834);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},44874:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(58761).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},47448:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(58761).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},56353:(e,s,a)=>{Promise.resolve().then(a.bind(a,65392))},65392:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>R});var t=a(2432),n=a(80364),r=a(34827),l=a(2708),i=a(77382),c=a(87304),d=a(22438),o=a(45092),m=a(8216),h=a(98652),x=a(16765),u=a(7886),p=a(24581),j=a(21283),y=a(34888),f=a(58761);let v=(0,f.A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var g=a(56656);let N=(0,f.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var b=a(12165),w=a(89743),k=a(78358);let A=(0,f.A)("file-check",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);var C=a(44874),_=a(47448),S=a(16299);let E=(0,f.A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var T=a(98512);let P=e=>{let{isOpen:s,onClose:a}=e,[i,m]=(0,n.useState)(""),[x,p]=(0,n.useState)("bank_transfer"),[f,w]=(0,n.useState)(""),[k,A]=(0,n.useState)(null),C=(0,r.u9)(),{toast:_}=(0,j.d)(),S=async e=>{e.preventDefault();try{let e={amount:parseInt(i),payment_method:x,..."mpesa"===x&&{customer_phone:f}},s=await C.mutateAsync(e);A(s),_({title:"Payment Instructions Generated",description:"Follow the instructions below to complete your payment."})}catch(e){_({title:"Error",description:(0,r.hS)(e),variant:"destructive"})}},E=e=>{navigator.clipboard.writeText(e),_({title:"Copied",description:"Copied to clipboard"})},T=()=>{m(""),w(""),A(null)},P=()=>{T(),a()};return(0,t.jsx)(h.lG,{open:s,onOpenChange:P,children:(0,t.jsxs)(h.Cf,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(h.c7,{children:[(0,t.jsx)(h.L3,{children:"Fund Wallet"}),(0,t.jsx)(h.rr,{children:"Add funds to your outsourced payroll wallet"})]}),k?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(u.Fc,{className:"border-blue-200 bg-blue-50",children:[(0,t.jsx)(g.A,{className:"h-4 w-4"}),(0,t.jsx)(u.TN,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Payment Instructions"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Reference:"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("code",{className:"bg-white px-2 py-1 rounded text-sm",children:k.reference}),(0,t.jsx)(l.$,{size:"sm",variant:"ghost",onClick:()=>E(k.reference),children:(0,t.jsx)(N,{className:"h-3 w-3"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Amount:"}),(0,t.jsxs)("span",{children:["KES ",k.amount.toLocaleString()]})]})]}),"bank_transfer"===k.payment_method&&(0,t.jsxs)("div",{className:"bg-white p-3 rounded space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Bank:"})," ",k.payment_instructions.bank_name]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:(0,t.jsx)("strong",{children:"Account:"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:k.payment_instructions.account_number}),(0,t.jsx)(l.$,{size:"sm",variant:"ghost",onClick:()=>E(k.payment_instructions.account_number||""),children:(0,t.jsx)(N,{className:"h-3 w-3"})})]})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",k.payment_instructions.account_name]}),(0,t.jsxs)(u.Fc,{className:"border-red-200 bg-red-50 mt-3",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),(0,t.jsxs)(u.TN,{className:"text-sm",children:[(0,t.jsx)("strong",{children:"IMPORTANT:"})," Use reference"," ",(0,t.jsx)("code",{children:k.reference})," for easy identification"]})]})]}),"mpesa"===k.payment_method&&(0,t.jsxs)("div",{className:"bg-white p-3 rounded",children:[(0,t.jsx)("p",{children:"Check your phone for the M-PESA payment prompt"}),k.message&&(0,t.jsxs)("div",{className:"mt-3 border-t pt-3",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Alternative Payment Method:"}),(0,t.jsx)("div",{className:"bg-gray-50 p-3 rounded-md text-sm",children:k.message.split(/\d+\./).filter(Boolean).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start mb-2 last:mb-0",children:[(0,t.jsx)("div",{className:"bg-blue-100 text-blue-800 font-semibold rounded-full w-6 h-6 flex items-center justify-center mr-2 shrink-0",children:s+1}),(0,t.jsx)("div",{className:"mt-0.5",children:e.trim()})]},s))})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"After completing payment, use the verification form to credit your wallet"})]})]})})]}),(0,t.jsxs)(h.Es,{children:[(0,t.jsx)(l.$,{variant:"outline",onClick:P,children:"Close"}),"bank_transfer"===k.payment_method&&(0,t.jsx)(l.$,{onClick:()=>{P()},children:"I've Made the Transfer"})]})]}):(0,t.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"amount",children:"Amount (KES)"}),(0,t.jsx)(c.p,{id:"amount",type:"number",placeholder:"100000",min:"1",value:i,onChange:e=>m(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"paymentMethod",children:"Payment Method"}),(0,t.jsxs)(o.l6,{value:x,onValueChange:e=>p(e),children:[(0,t.jsx)(o.bq,{children:(0,t.jsx)(o.yv,{})}),(0,t.jsxs)(o.gC,{children:[(0,t.jsx)(o.eb,{value:"bank_transfer",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Bank Transfer"]})}),(0,t.jsx)(o.eb,{value:"mpesa",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(v,{className:"h-4 w-4 mr-2"}),"M-PESA"]})})]})]})]}),"mpesa"===x&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"customerPhone",children:"Phone Number"}),(0,t.jsx)(c.p,{id:"customerPhone",placeholder:"254700123456",value:f,onChange:e=>w(e.target.value),required:!0})]}),(0,t.jsxs)(h.Es,{children:[(0,t.jsx)(l.$,{type:"button",variant:"outline",onClick:P,children:"Cancel"}),(0,t.jsx)(l.$,{type:"submit",disabled:C.isPending,children:C.isPending?"Generating...":"Generate Payment Instructions"})]})]})]})})},M=e=>{let{isOpen:s,onClose:a,reference:i=""}=e,[o,m]=(0,n.useState)({reference:i,bank_transaction_reference:"",amount:"",payment_date:""}),x=(0,r.Lz)(),{toast:u}=(0,j.d)(),p=async e=>{e.preventDefault();try{let e={reference:o.reference,bank_transaction_reference:o.bank_transaction_reference,amount:parseInt(o.amount),...o.payment_date&&{payment_date:o.payment_date}};await x.mutateAsync(e),u({title:"Transfer Confirmed",description:"Your transfer is now pending approval from our admin team."}),a(),m({reference:"",bank_transaction_reference:"",amount:"",payment_date:""})}catch(e){u({title:"Error",description:(0,r.hS)(e),variant:"destructive"})}};return(0,t.jsx)(h.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(h.Cf,{children:[(0,t.jsxs)(h.c7,{children:[(0,t.jsx)(h.L3,{children:"Confirm Bank Transfer"}),(0,t.jsx)(h.rr,{children:"Please enter the details of your bank transfer"})]}),(0,t.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"reference",children:"Payment Reference"}),(0,t.jsx)(c.p,{id:"reference",value:o.reference,onChange:e=>m(s=>({...s,reference:e.target.value})),placeholder:"Payment reference from fund request",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"bankRef",children:"Bank Transaction Reference"}),(0,t.jsx)(c.p,{id:"bankRef",value:o.bank_transaction_reference,onChange:e=>m(s=>({...s,bank_transaction_reference:e.target.value})),placeholder:"Bank transaction number/reference",required:!0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"This is the reference number from your bank"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"transferAmount",children:"Amount Transferred (KES)"}),(0,t.jsx)(c.p,{id:"transferAmount",type:"number",value:o.amount,onChange:e=>m(s=>({...s,amount:e.target.value})),placeholder:"100000",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"paymentDate",children:"Payment Date (Optional)"}),(0,t.jsx)(c.p,{id:"paymentDate",type:"date",value:o.payment_date,onChange:e=>m(s=>({...s,payment_date:e.target.value})),max:new Date().toISOString().split("T")[0]})]}),(0,t.jsxs)(h.Es,{children:[(0,t.jsx)(l.$,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),(0,t.jsx)(l.$,{type:"submit",disabled:x.isPending,children:x.isPending?"Confirming...":"Confirm Transfer"})]})]})]})})},F=e=>{let{isOpen:s,onClose:a}=e,[i,o]=(0,n.useState)({reference:"",approved:!1,notes:""}),m=(0,r.oj)(),{toast:x}=(0,j.d)(),u=async e=>{e.preventDefault();try{let e={reference:i.reference,approved:!0,...i.notes&&{amount:parseInt(i.notes)}},t=await m.mutateAsync(e),n="data"in t&&t.data?t.data:t;if(n.success){var s;x({title:"Success!",description:"KES ".concat(null===(s=n.amount)||void 0===s?void 0:s.toLocaleString()," has been credited to your wallet.")}),a(),o({reference:"",approved:!1,notes:""})}else x({title:"Verification Failed",description:n.message,variant:"destructive"})}catch(e){x({title:"Error",description:(0,r.hS)(e),variant:"destructive"})}};return(0,t.jsx)(h.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(h.Cf,{children:[(0,t.jsxs)(h.c7,{children:[(0,t.jsx)(h.L3,{children:"Approve Bank Transfer"}),(0,t.jsx)(h.rr,{children:"Enter the Bank Transfer Reference code you received after making payment"})]}),(0,t.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"ref",children:"Reference"}),(0,t.jsx)(c.p,{id:"ref",value:i.reference,onChange:e=>o(s=>({...s,reference:e.target.value.toUpperCase()})),placeholder:"OUT_FUND_AB48949_488",pattern:"^OUT_FUND_.*$",title:"Use the reference code provided by the system",className:"font-mono",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"notes",children:"Notes (Optional)"}),(0,t.jsx)(c.p,{id:"notes",type:"number",value:i.notes,onChange:e=>o(s=>({...s,notes:e.target.value})),placeholder:"Add notes or verification details"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Optional: Add any notes or verification details"})]}),(0,t.jsxs)(h.Es,{children:[(0,t.jsx)(l.$,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),(0,t.jsx)(l.$,{type:"submit",disabled:m.isPending,children:m.isPending?"Approving...":"Approve & Complete Wallet Transaction"})]})]})]})})},D=e=>{let{isOpen:s,onClose:a}=e,[i,o]=(0,n.useState)({mpesa_transaction_code:"",amount:""}),m=(0,r.nR)(),{toast:x}=(0,j.d)(),u=async e=>{e.preventDefault();try{let e={mpesa_transaction_code:i.mpesa_transaction_code,...i.amount&&{amount:parseInt(i.amount)}},t=await m.mutateAsync(e),n="data"in t&&t.data?t.data:t;if(n.success){var s;x({title:"Success!",description:"KES ".concat(null===(s=n.amount)||void 0===s?void 0:s.toLocaleString()," has been credited to your wallet.")}),a(),o({mpesa_transaction_code:"",amount:""})}else x({title:"Verification Failed",description:n.message,variant:"destructive"})}catch(e){x({title:"Error",description:(0,r.hS)(e),variant:"destructive"})}};return(0,t.jsx)(h.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(h.Cf,{children:[(0,t.jsxs)(h.c7,{children:[(0,t.jsx)(h.L3,{children:"Verify M-PESA Transaction"}),(0,t.jsx)(h.rr,{children:"Enter the M-PESA transaction code you received after making payment"})]}),(0,t.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"mpesaCode",children:"M-PESA Transaction Code"}),(0,t.jsx)(c.p,{id:"mpesaCode",value:i.mpesa_transaction_code,onChange:e=>o(s=>({...s,mpesa_transaction_code:e.target.value.toUpperCase()})),placeholder:"QGJ7XKHM6Y",pattern:"[A-Z0-9]{10}",title:"Transaction code should be 10 characters",className:"font-mono",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"verifyAmount",children:"Amount (Optional)"}),(0,t.jsx)(c.p,{id:"verifyAmount",type:"number",value:i.amount,onChange:e=>o(s=>({...s,amount:e.target.value})),placeholder:"100000"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Optional: Verify the amount matches"})]}),(0,t.jsxs)(h.Es,{children:[(0,t.jsx)(l.$,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),(0,t.jsx)(l.$,{type:"submit",disabled:m.isPending,children:m.isPending?"Verifying...":"Verify & Credit Wallet"})]})]})]})})};function R(){var e,s;let{user:a}=(0,T.A)(),c=null==a?void 0:null===(e=a.user)||void 0===e?void 0:e.roles,[d,o]=(0,n.useState)(!1),[h,f]=(0,n.useState)(!1),[g,N]=(0,n.useState)(!1),[R,L]=(0,n.useState)(!1),[O,I]=(0,n.useState)(!1),{data:$,error:B,isLoading:q}=(0,r.vT)(),W=(0,r.dA)(),{toast:J}=(0,j.d)(),{data:V,isLoading:G,error:K,refetch:U}=(0,r.X2)(),{data:Z,isLoading:z,refetch:H}=(0,r.K8)(20,0);(0,n.useEffect)(()=>{(async()=>{if(!q&&!(null==$?void 0:$.wallet))try{I(!0),await W.mutateAsync(),J({title:"Wallet Created",description:"Your outsourced payroll wallet has been created successfully."}),U(),H()}catch(e){J({title:"Wallet Creation Failed",description:(0,r.hS)(e),variant:"destructive"})}finally{I(!1)}})()},[$,q,W,J,O]);let Y=e=>"KES ".concat(e.toLocaleString("en-KE",{minimumFractionDigits:0}));return q||O?(0,t.jsxs)("div",{className:"container mx-auto py-6 px-4 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Wallet Management"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:O?"Creating your wallet...":"Loading wallet information..."})]}),(0,t.jsxs)(i.Zp,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-5 w-5"}),"Outsourced Payroll Wallet"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(p.E,{className:"h-12 w-48"}),(0,t.jsx)(p.E,{className:"h-4 w-32"}),(0,t.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,t.jsx)(p.E,{className:"h-10 w-32"}),(0,t.jsx)(p.E,{className:"h-10 w-32"})]})]})})]})]}):K||B?(0,t.jsx)("div",{className:"container mx-auto py-6 px-4",children:(0,t.jsxs)(u.Fc,{variant:"destructive",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),(0,t.jsx)(u.TN,{children:"Failed to load wallet information. Please try again later."})]})}):(0,t.jsxs)("div",{className:"container mx-auto py-6 px-4 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Wallet Management"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your outsourced payroll wallet balance and transactions"})]}),(0,t.jsxs)(i.Zp,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-5 w-5"}),"Outsourced Payroll Wallet"]})}),(0,t.jsx)(i.Wu,{children:G?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(p.E,{className:"h-12 w-48"}),(0,t.jsx)(p.E,{className:"h-4 w-32"}),(0,t.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,t.jsx)(p.E,{className:"h-10 w-32"}),(0,t.jsx)(p.E,{className:"h-10 w-32"})]})]}):V?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-4xl font-bold text-blue-700",children:Y(V.balance)}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Last updated:"," ",new Date(V.last_updated).toLocaleString()]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mt-6",children:[(0,t.jsxs)(l.$,{onClick:()=>o(!0),className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Fund Wallet"]}),(0,t.jsxs)(l.$,{onClick:()=>f(!0),variant:"outline",className:"border-green-200 text-green-700 hover:bg-green-50",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Confirm Bank Transfer"]}),(null==c?void 0:c.includes("SUPER_ADMIN"))&&(null==Z?void 0:null===(s=Z.transactions)||void 0===s?void 0:s.some(e=>"PENDING"===e.paymentStatus))&&(0,t.jsxs)(l.$,{onClick:()=>L(!0),variant:"outline",className:"border-yellow-200 text-yellow-700 hover:bg-yellow-50",children:[(0,t.jsx)(A,{className:"h-4 w-4 mr-2"}),"Approve Bank Transfer"]}),(0,t.jsxs)(l.$,{onClick:()=>N(!0),variant:"outline",className:"border-orange-200 text-orange-700 hover:bg-orange-50",children:[(0,t.jsx)(v,{className:"h-4 w-4 mr-2"}),"Verify M-PESA"]})]})]}):null})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"h-5 w-5"}),"Recent Transactions"]})}),(0,t.jsx)(i.Wu,{children:z?(0,t.jsx)("div",{className:"space-y-3",children:Array.from({length:5}).map((e,s)=>(0,t.jsx)(p.E,{className:"h-16 w-full"},s))}):(null==Z?void 0:Z.transactions.length)===0?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(C.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"No transactions yet"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Your wallet transactions will appear here"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(m.XI,{children:[(0,t.jsx)(m.A0,{children:(0,t.jsxs)(m.Hj,{children:[(0,t.jsx)(m.nd,{children:"Date"}),(0,t.jsx)(m.nd,{children:"Type"}),(0,t.jsx)(m.nd,{children:"Amount"}),(0,t.jsx)(m.nd,{children:"Reference"}),(0,t.jsx)(m.nd,{children:"Status"})]})}),(0,t.jsx)(m.BF,{children:null==Z?void 0:Z.transactions.map(e=>(0,t.jsxs)(m.Hj,{children:[(0,t.jsx)(m.nA,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(_.A,{className:"h-4 w-4 text-muted-foreground"}),new Date(e.createdAt).toLocaleDateString()]})}),(0,t.jsx)(m.nA,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["CREDIT"===e.transactionType?(0,t.jsx)(S.A,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(E,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"font-medium ".concat("CREDIT"===e.transactionType?"text-green-700":"text-red-700"),children:"CREDIT"===e.transactionType?"Credit":"Debit"})]})}),(0,t.jsx)(m.nA,{children:(0,t.jsxs)("span",{className:"font-bold ".concat("CREDIT"===e.transactionType?"text-green-600":"text-red-600"),children:["CREDIT"===e.transactionType?"+":"-",Y(e.amount)]})}),(0,t.jsx)(m.nA,{children:(0,t.jsx)("code",{className:"bg-muted px-2 py-1 rounded text-xs",children:e.reference})}),(0,t.jsx)(m.nA,{children:(0,t.jsx)(x.E,{variant:"COMPLETED"===e.paymentStatus?"default":"secondary",children:e.paymentStatus})})]},e.id))})]}),Z&&Z.total_count>Z.limit&&(0,t.jsx)("div",{className:"text-center pt-4",children:(0,t.jsx)(l.$,{variant:"outline",size:"sm",children:"Load More Transactions"})})]})})]}),V&&V.balance<1e5&&(0,t.jsxs)(u.Fc,{className:"border-amber-200 bg-amber-50",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),(0,t.jsx)(u.TN,{children:"Your wallet balance is running low. Consider adding funds to ensure smooth payroll processing."})]}),(0,t.jsx)(P,{isOpen:d,onClose:()=>o(!1)}),(0,t.jsx)(M,{isOpen:h,onClose:()=>f(!1)}),(0,t.jsx)(F,{isOpen:R,onClose:()=>L(!1)}),(0,t.jsx)(D,{isOpen:g,onClose:()=>N(!1)})]})}},78358:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(58761).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},89743:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(58761).A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[8655,4600,7060,7468,4347,6187,1963,2026,9192,642,9195,5022,5575,7358],()=>s(56353)),_N_E=e.O()}]);
//# sourceMappingURL=page-09cd644f710a27a0.js.map