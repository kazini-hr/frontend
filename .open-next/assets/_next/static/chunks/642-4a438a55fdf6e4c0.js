"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{34827:(e,t,r)=>{r.d(t,{hS:()=>_,tu:()=>p,oj:()=>I,sJ:()=>v,QU:()=>A,Lz:()=>E,Ar:()=>h,T6:()=>K,dA:()=>j,FT:()=>g,Iq:()=>R,u9:()=>S,vz:()=>y,lU:()=>m,q0:()=>f,Ho:()=>w,Bd:()=>T,cq:()=>C,Hu:()=>x,Iu:()=>N,Y$:()=>d,Db:()=>q,nR:()=>k,vT:()=>F,X2:()=>b,K8:()=>Q});var a=r(44496),o=r(83415),n=r(6225),u=r(81738);let s=e=>new Promise(t=>setTimeout(t,e)),i=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return await s(t),e},l=async e=>(await u.A.post("/api/companies/register",e)).data,c=async e=>(await u.A.post("/api/auth/login",e)).data,d=()=>(0,a.n)({mutationFn:l}),y=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:c,onSuccess:t=>{t.session_token&&(e.setQueryData(["auth","user"],t.user),e.invalidateQueries({queryKey:["auth"]}))}})},p=e=>{var t,r;if(null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.detail){let t=e.response.data.detail;if("string"==typeof t)return t;if(t.message)return t.message}return e.message||"An authentication error occurred"},m=()=>(0,n.I)({queryKey:["outsourced","dashboard"],queryFn:async()=>u.A.get("/api/outsourced/dashboard").then(e=>e.data).then(e=>(console.log(e),e)),staleTime:3e5}),f=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,n.I)({queryKey:["outsourced","employees",e],queryFn:async()=>u.A.get("/api/outsourced/employees?include_inactive=".concat(e)).then(e=>e.data)})},v=()=>(0,n.I)({queryKey:["outsourced","bank-codes"],queryFn:async()=>u.A.get("/api/outsourced/bank-codes").then(e=>e.data),staleTime:36e5}),h=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:async e=>u.A.post("/api/outsourced/employees",e),onSuccess:()=>{e.invalidateQueries({queryKey:["outsourced","employees"]}),e.invalidateQueries({queryKey:["outsourced","dashboard"]})}})},q=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:async e=>{let{id:t,...r}=e;return u.A.put("/api/outsourced/employees/".concat(t),r)},onSuccess:()=>{e.invalidateQueries({queryKey:["outsourced","employees"]})}})},g=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:async e=>u.A.delete("/api/outsourced/employees/".concat(e)),onSuccess:()=>{e.invalidateQueries({queryKey:["outsourced","employees"]}),e.invalidateQueries({queryKey:["outsourced","dashboard"]})}})},A=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:async e=>{let t=new FormData;return t.append("file",e),u.A.post("/api/outsourced/employees/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},onSuccess:()=>{e.invalidateQueries({queryKey:["outsourced","employees"]}),e.invalidateQueries({queryKey:["outsourced","dashboard"]})}})},w=()=>(0,n.I)({queryKey:["outsourced","payroll","config"],queryFn:async()=>u.A.get("/api/outsourced/payroll/config").then(e=>e.data)}),K=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:async e=>u.A.post("/api/outsourced/payroll/config",e),onSuccess:()=>{e.invalidateQueries({queryKey:["outsourced","payroll","config"]})}})},F=()=>(0,n.I)({queryKey:["outsourced","wallet"],queryFn:async()=>u.A.get("/api/outsourced/wallet").then(e=>e.data),staleTime:3e5}),j=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:async()=>u.A.post("/api/outsourced/wallet").then(e=>e.data),onSuccess:()=>{e.invalidateQueries({queryKey:["outsourced","wallet"]})}})},b=()=>(0,n.I)({queryKey:["outsourced","wallet","balance"],queryFn:async()=>u.A.get("/api/outsourced/wallet/balance").then(e=>e.data),refetchInterval:3e4}),Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,n.I)({queryKey:["outsourced","wallet","transactions",e,t],queryFn:async()=>u.A.get("/api/outsourced/wallet/transactions?limit=".concat(e,"&offset=").concat(t)).then(e=>e.data)})},S=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:async e=>u.A.post("/api/outsourced/wallet/fund",e).then(e=>e.data),onSuccess:()=>{e.invalidateQueries({queryKey:["outsourced","wallet"]})}})},E=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:async e=>u.A.post("/api/outsourced/wallet/confirm-bank-transfer",e),onSuccess:()=>{e.invalidateQueries({queryKey:["outsourced","wallet"]})}})},I=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:async e=>u.A.post("/api/outsourced/wallet/approve-bank-transfer",e),onSuccess:()=>{e.invalidateQueries({queryKey:["outsourced","wallet"]})}})},k=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:async e=>u.A.post("/api/outsourced/wallet/verify-transaction",e),onSuccess:()=>{e.invalidateQueries({queryKey:["outsourced","wallet"]})}})},x=()=>(0,n.I)({queryKey:["outsourced","payroll","summary"],queryFn:async()=>u.A.get("/api/outsourced/payroll/summary").then(e=>e.data)}),N=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:async e=>u.A.post("/api/outsourced/payroll/process",e),onSuccess:()=>{e.invalidateQueries({queryKey:["outsourced","payroll"]}),e.invalidateQueries({queryKey:["outsourced","dashboard"]})}})},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return(0,n.I)({queryKey:["outsourced","payroll","cycles",e],queryFn:async()=>u.A.get("/api/outsourced/payroll/reports?limit=".concat(e)).then(e=>e.data)})},T=e=>(0,n.I)({queryKey:["outsourced","payroll","reports",e],queryFn:async()=>u.A.get("/api/outsourced/payroll/reports/".concat(e)).then(e=>e.data),enabled:!!e}),R=()=>{let e=(0,o.jE)();return(0,a.n)({mutationFn:async e=>u.A.post("/api/outsourced/payroll/disburse/".concat(e)),onSuccess:()=>{e.invalidateQueries({queryKey:["outsourced","payroll"]}),e.invalidateQueries({queryKey:["outsourced","dashboard"]})}})},_=e=>{var t,r;if(null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.detail){let t=e.response.data.detail;if("string"==typeof t)return t;if(t.errors&&Array.isArray(t.errors))return t.errors.join(", ");if(t.message)return t.message}return e.message||"An unexpected error occurred"}},77382:(e,t,r)=>{r.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>i,Zp:()=>u,aR:()=>s});var a=r(2432),o=r(80364),n=r(84963);let u=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...o})});u.displayName="Card";let s=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...o})});s.displayName="CardHeader";let i=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...o})});i.displayName="CardTitle";let l=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...o})});l.displayName="CardDescription";let c=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...o})});c.displayName="CardContent",o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...o})}).displayName="CardFooter"},81738:(e,t,r)=>{r.d(t,{A:()=>o});let a=r(55103).A.create({baseURL:"https://api.kazinihr.co.ke",timeout:3e4,headers:{"Content-Type":"application/json"},withCredentials:!0});a.interceptors.request.use(e=>{{let t=localStorage.getItem("auth_token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("auth_token"),window.location.href="/login"),Promise.reject(e)});let o=a},84963:(e,t,r)=>{r.d(t,{cn:()=>n});var a=r(12126),o=r(76338);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.QP)((0,a.$)(t))}}}]);
//# sourceMappingURL=642-4a438a55fdf6e4c0.js.map